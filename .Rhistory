source('~/快盘/R/Web Spider/paper downloader.R')
article
?write
write(article, file="article", sep=" ")
getwd()
ls()
write(article, file="article.txt", sep=" ")
write(article, file=paste(title, "txt", sep="."), sep=" ")
article <- xpathSApply(paper.html, "//p", xmlValue)
source('~/快盘/R/Web Spider/paper downloader.R')
source('~/快盘/R/Web Spider/paper downloader.R')
?paste
source('~/快盘/R/Web Spider/paper downloader.R')
source('~/快盘/R/Web Spider/paper downloader.R')
source('~/.active-rstudio-document')
source('~/快盘/R/Web Spider/paper downloader.R')
source('~/快盘/R/Web Spider/paper downloader.R')
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/","47978","-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
source('~/.active-rstudio-document')
source('~/快盘/R/Web Spider/paper downloader.R')
source('~/快盘/R/Web Spider/paper downloader.R')
i <- 14070130
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.url
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/","14070130","-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
source('~/快盘/R/Web Spider/paper downloader.R')
source('~/快盘/R/Web Spider/paper downloader.R')
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/","14100035","-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/","14100035","-1.htm",sep="")
paper.url
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 14100035
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 14070130
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 14070131
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 140100035
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 14100035
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 14100033
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
for(i in 14000000:15000000){
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)#读取html
article <- xpathSApply(paper.html, "//p", xmlValue)#读取<p></p>之间的内容
title <- xpathSApply(paper.html,"//title", xmlValue)#读取title
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")#写成txt
}
i <- 14000000
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
htmlTreeParse(paper.url, useInternalNodes=T)==TRUE
i <- 14100031
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
i <- 14070132
paper.url <- paste("http://www.unitalenlaw.com/html/unitalenlaw/report/",i,"-1.htm",sep="")
paper.html <- htmlTreeParse(paper.url, useInternalNodes=T)
article <- xpathSApply(paper.html, "//p", xmlValue)
title <- xpathSApply(paper.html,"//title", xmlValue)
article[1] <- title
write(article, file=paste(i,"-",title, ".txt", sep=""), sep=" ")
install.packages("httr")
library(httr)
r <- GET("http://httpbin.org/get")
r
status_code(r)
header(r)
headers(r)
str(content(r))
http_status(r)
r$status_code
warn_for_status(r)
content(r)
content(r,"text")
content(r,"text", encoding="ISO-8859-1")
content(r, "raw")
bin <- content(r, "raw")
writeBin(bin, "myfile.txt")
sessionInfo()
url <- "http://stackoverflow.com/questions/3746256/extract-links-from-webpage-using-r"
doc <- htmlParse(url)
links <- xpathSApply(doc, "//a/@href")
free(doc)
links
links <- as.vector(links)
links
url <- "http://www.unitalenlaw.com/html/unitalenlaw/category/46559-1.htm?&l6930=0"
doc <- htmlParse(url)
links <- xpathSApply(doc, "//a/@href")
free(doc)
links <- as.vector(links)
links
names <- xpathSApply(doc, "//a/@href", xmlValue)
names <- xpathSApply(doc, "//a", xmlValue)
names <- xpathSApply(doc, "//a")
names <- xpathSApply(doc, "//a/@href")
names <- xpathSApply(doc, "//a/@href")
url <- "http://www.unitalenlaw.com/html/unitalenlaw/category/46559-1.htm?&l6930=0"
doc <- htmlParse(url)
links <- xpathSApply(doc, "//a/@href")
free(doc)
links <- as.vector(links)
doc <- htmlParse(url)
names <- xpathSApply(doc, "//a/@href")
names <- xpathSApply(doc, "//a")
names
names <- as.vector(names)
names
names <- xpathSApply(doc, "//a", xmlValue)
names <- as.vector(names)
names
data.frame(names, links)
?data.frames
?data.frame
data.frame(name=names, link=links)
comb <- data.frame(names, links)
View(comb)
